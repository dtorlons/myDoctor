<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>myDoctor - ChatRoom</title>    
    <link rel="icon" type="image/x-icon" href="images/heart.png">
    <link rel="stylesheet" href="agenda.css">
    <script src="chat.js" charset="UFT-8" defer></script>
</head>
<body>

    <header class="header">  <!--HEADER-->
        <a href="Home"> <img id="logo" src="images/logo.png" alt="Logo" style="height: 75px ;"></a> <!--Atention Point: mettere qui il link per la home -->
        
        <div class="header-right">
          <div class="login_form">                      
                <div class="header-right">
                    <span th:text="${'Benvenuto ' + paziente.patientDetails.name}" style="font-weight: bold;">username</span>
                    <span>notifiche</span>
                    <span><button>Logout</button></span>
                 </div>            
           </div>
        </div>
    </header>


    <br>
    <h3 th:text="${'La tua conversazione con ' + dottore.doctorDetails.name}"></h3>
    <br>
    
    <div  th:if="${pazienti != null}">
        <select name="patientId" id="patientSelector" required onchange="selectChatter(event);">
            <option value="">Seleziona un paziente...</option>
            <option th:each="paziente : ${pazienti}" th:value="${paziente.id}" th:text="${paziente.patientDetails.name}"></option>
        </select>

    </div>


    <div class="messageContainer" style="padding: 15px ;border: solid white; height: 400px; margin: auto; overflow: scroll; overflow-x: hidden; ;display: flex; flex-direction: column; font-family: system-ui, -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, 'Open Sans', 'Helvetica Neue', sans-serif; background-color: lightgray; border-radius: 8px;" id="chatWindow">





    </div>

    
    
   
    
        <div id="chatInputField">
            <form  method="post" enctype="multipart/form-data" onsubmit="post(event);" id="postForm">
                <input type="hidden" name="patientId" id="idPazienteForm">
                Scrivi:<input type="text" name="text" id="" style="width: 850px;" required>
                <input type="file" name="file" id="">
                <input type="submit" value="Invia" >
            </form>
        </div>

    </div>




    <footer style="padding: 20px; text-align: center; background: linear-gradient(0deg,#5BB7B1 0%, rgba(255, 255, 255, 0.1) 100%);">
        <p><h3>Ingegneria del Software</h3></p>
        <p>Diego Hernan Torlone - Matr. 936985</p>
      </footer>


</body>
</html>